现在，我需要构建一个系统：Raspberry Pi5执行采集功能，采集8个通道的电压（10s一次），然后Pi5连接的笔记本电脑随时接受Pi 5传递回来的数据，做实时推理、并将结果（预测曲线）绘制在GUI程序上。下面是这个系统的描述与完整任务要求。


## 一、系统总体架构（非常重要）

系统由两个独立程序组成：

【1】边缘端：Raspberry Pi 5（Raspberry OS，拥有python环境3.10）
- 负责热电芯片电压数据采集,每 10 秒采集一次 8 通道电压(采集控制脚本已经写好，名字为Full_collector.py，并且可以用sudo systemctl start tec-collector启动，保持开机自启、异常关断后自动恢复)
- 通过 HTTP POST 将数据发送到主机（这一部分还没做）

【2】主机端：本地 PC（Windows / Linux）
- 接收 Pi 发送的数据
- 维护最近 60 个时间点的滑动窗口
- 使用训练好的时间序列模型进行预测（训练和推理源码全在TimeSeries/src中）
- 提供 GUI 实时绘图与预测对比

Pi 与主机通过网线连接。



## 二、数据传输（HTTP POST）


边缘端（Pi）每次采集后，通过 HTTP POST 发送 JSON 数据：

POST /data

示例 payload：
{
  "timestamp": "2025-01-12 14:23:10",
  "values": [v1, v2, v3, v4, v5, v6, v7, v8]
}

要求：
- 使用 Python requests 库
- 网络异常时可重试
- 发送成功后本地可选保存 CSV 备份


## 三、模型与推理设定


时间序列模型已经在 PC 上用 PyTorch 训练完成（GRU 或 LSTM）。

模型支持两种推理模式：
1. 预测下 1 个时间点
2. 预测下 10 个时间点（递归或直接输出）
(这一点请参照TimeSeries/src中的python脚本，这是你之前写的)

## 四、主机端功能需求（重点）


主机端程序需包含：

【HTTP 接收服务】
- 使用 Flask 或 FastAPI
- 提供 /data 接口接收 Pi 数据
- 每收到一条数据，更新滑动窗口

【推理逻辑】
- 当窗口长度 >= 60 时：
    - 执行模型推理
    - 预测 1-step 或 10-step（由 GUI 控制）

【GUI 可视化】
- GUI 使用 PyQt5 + matplotlib（要求可视化做的专业一点）
- 由 GUI 控制选择哪一个通道的电压、还是全通道的电压
  - 通道名字："Yellow","Ultraviolet","Infrared","Red","Green","Blue","Transparent","Violet"
  - 如果选择绘制全通道电压，就把所有通道绘制在一张图里面。
- 每个子图对应一个通道
- 显示内容：
    1. 历史真实数据
    2. 上一次预测 vs 实际测量
    3. 下一步预测结果（虚线或不同颜色）

- GUI 中提供控件：
    - 选择预测步数（1 或 10）
    - 绘制通道的选择
    - 显示当前状态（等待数据 / 推理完成）


## 五、工程结构要求

请在本文件夹（"RealTimeSystem/"下生成代码和文档）
1. 所有代码需模块化、工程化、可维护
2. 每个核心 Python 文件配套生成 Markdown 说明文件
3. README.md 需说明：
   - 系统架构
   - Pi 与 PC 的通信方式
   - 如何启动各模块

## 六、其他要求
1. 你需要完成的任务有 HTTP 通信 以及 GUI 程序两个大板块
2. GUI程序请做的专业一点，符合专业软件的要求。并且注意不要占用过多内存。
3. 除了"TimeSeries/src"文件夹中的文件你可能需要阅读外，仓库中的其余文件无需阅读。
4. 实施推理时，暂时不需要考虑数据增强方案（即"TimeSeries\DA"中的相关脚本），模型的训练和推理均针对于原始数据。
