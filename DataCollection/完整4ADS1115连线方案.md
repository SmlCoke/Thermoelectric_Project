# 完整4个ADS1115连线方案

本方案使用4个ADS1115采集8组差分电压信号，连接8个TEC1-04906热电芯片。

## 硬件清单

- Raspberry Pi 5 × 1
- ADS1115 ADC模块 × 4
- TEC1-04906热电芯片 × 8
- 杜邦线（公对母、母对母）若干
- 面包板（可选，方便共享电源和地线）

## 一、4个ADS1115到Raspberry Pi 5的连线

所有ADS1115共享I2C总线，通过不同的ADDR引脚设置来区分地址。

### ADS1115 #1（地址0x48）

| ADS1115 #1引脚 | Raspberry Pi 5引脚 | 说明 |
|---------------|------------------|------|
| VDD | Pin 1 (3.3V) | 电源正极 |
| GND | Pin 6 (GND) | 电源地线 |
| SDA | Pin 3 (GPIO 2 / SDA) | I2C数据线 |
| SCL | Pin 5 (GPIO 3 / SCL) | I2C时钟线 |
| ADDR | GND | I2C地址 = 0x48 |

### ADS1115 #2（地址0x49）

| ADS1115 #2引脚 | Raspberry Pi 5引脚 | 说明 |
|---------------|------------------|------|
| VDD | Pin 1 (3.3V) | 电源正极（共享） |
| GND | Pin 6 (GND) | 电源地线（共享） |
| SDA | Pin 3 (GPIO 2 / SDA) | I2C数据线（共享） |
| SCL | Pin 5 (GPIO 3 / SCL) | I2C时钟线（共享） |
| ADDR | VDD | I2C地址 = 0x49 |

### ADS1115 #3（地址0x4A）

| ADS1115 #3引脚 | Raspberry Pi 5引脚 | 说明 |
|---------------|------------------|------|
| VDD | Pin 1 (3.3V) | 电源正极（共享） |
| GND | Pin 6 (GND) | 电源地线（共享） |
| SDA | Pin 3 (GPIO 2 / SDA) | I2C数据线（共享） |
| SCL | Pin 5 (GPIO 3 / SCL) | I2C时钟线（共享） |
| ADDR | SDA | I2C地址 = 0x4A |

### ADS1115 #4（地址0x4B）

| ADS1115 #4引脚 | Raspberry Pi 5引脚 | 说明 |
|---------------|------------------|------|
| VDD | Pin 1 (3.3V) | 电源正极（共享） |
| GND | Pin 6 (GND) | 电源地线（共享） |
| SDA | Pin 3 (GPIO 2 / SDA) | I2C数据线（共享） |
| SCL | Pin 5 (GPIO 3 / SCL) | I2C时钟线（共享） |
| ADDR | SCL | I2C地址 = 0x4B |

### 连线说明：
1. **VDD线**：所有4个ADS1115的VDD引脚都连接到Raspberry Pi的Pin 1 (3.3V)
2. **GND线**：所有4个ADS1115的GND引脚都连接到Raspberry Pi的Pin 6 (GND)
3. **SDA线**：所有4个ADS1115的SDA引脚都连接到Raspberry Pi的Pin 3 (GPIO 2)
4. **SCL线**：所有4个ADS1115的SCL引脚都连接到Raspberry Pi的Pin 5 (GPIO 3)
5. **ADDR线**：通过不同的ADDR连接方式设置不同的I2C地址：
   - ADS1115 #1: ADDR → GND (地址0x48)
   - ADS1115 #2: ADDR → VDD (地址0x49)
   - ADS1115 #3: ADDR → SDA (地址0x4A)
   - ADS1115 #4: ADDR → SCL (地址0x4B)

## 二、8个TEC1-04906热电芯片到ADS1115的连线

每个ADS1115采集2个TEC芯片的差分电压。

### ADS1115 #1（地址0x48）连接TEC芯片1和2

| TEC芯片 | TEC引脚 | ADS1115 #1引脚 | 通道说明 |
|--------|--------|---------------|---------|
| TEC1 | P脚（正极） | A0 | 差分通道0-1正端 |
| TEC1 | N脚（负极） | A1 | 差分通道0-1负端 |
| TEC2 | P脚（正极） | A2 | 差分通道2-3正端 |
| TEC2 | N脚（负极） | A3 | 差分通道2-3负端 |

### ADS1115 #2（地址0x49）连接TEC芯片3和4

| TEC芯片 | TEC引脚 | ADS1115 #2引脚 | 通道说明 |
|--------|--------|---------------|---------|
| TEC3 | P脚（正极） | A0 | 差分通道0-1正端 |
| TEC3 | N脚（负极） | A1 | 差分通道0-1负端 |
| TEC4 | P脚（正极） | A2 | 差分通道2-3正端 |
| TEC4 | N脚（负极） | A3 | 差分通道2-3负端 |

### ADS1115 #3（地址0x4A）连接TEC芯片5和6

| TEC芯片 | TEC引脚 | ADS1115 #3引脚 | 通道说明 |
|--------|--------|---------------|---------|
| TEC5 | P脚（正极） | A0 | 差分通道0-1正端 |
| TEC5 | N脚（负极） | A1 | 差分通道0-1负端 |
| TEC6 | P脚（正极） | A2 | 差分通道2-3正端 |
| TEC6 | N脚（负极） | A3 | 差分通道2-3负端 |

### ADS1115 #4（地址0x4B）连接TEC芯片7和8

| TEC芯片 | TEC引脚 | ADS1115 #4引脚 | 通道说明 |
|--------|--------|---------------|---------|
| TEC7 | P脚（正极） | A0 | 差分通道0-1正端 |
| TEC7 | N脚（负极） | A1 | 差分通道0-1负端 |
| TEC8 | P脚（正极） | A2 | 差分通道2-3正端 |
| TEC8 | N脚（负极） | A3 | 差分通道2-3负端 |

## 三、完整系统连线图

```
                                    Raspberry Pi 5
                                   ┌──────────────┐
                                   │ Pin 1 (3.3V) │←──┐
                                   │ Pin 3 (SDA)  │←──┼──┐
                                   │ Pin 5 (SCL)  │←──┼──┼──┐
                                   │ Pin 6 (GND)  │←──┼──┼──┼──┐
                                   └──────────────┘   │  │  │  │
                                                      │  │  │  │
        ┌─────────────────────────────────────────────┘  │  │  │
        │         ┌──────────────────────────────────────┘  │  │
        │         │         ┌───────────────────────────────┘  │
        │         │         │         ┌────────────────────────┘
        │         │         │         │
        ↓         ↓         ↓         ↓
    ADS1115#1  ADS1115#2  ADS1115#3  ADS1115#4
    (0x48)     (0x49)     (0x4A)     (0x4B)
    ┌──────┐   ┌──────┐   ┌──────┐   ┌──────┐
    │VDD   │   │VDD   │   │VDD   │   │VDD   │
    │GND   │   │GND   │   │GND   │   │GND   │
    │SDA   │   │SDA   │   │SDA   │   │SDA   │
    │SCL   │   │SCL   │   │SCL   │   │SCL   │
    │ADDR→G│   │ADDR→V│   │ADDR→D│   │ADDR→C│
    │      │   │      │   │      │   │      │
    │A0 A1 │   │A0 A1 │   │A0 A1 │   │A0 A1 │
    │A2 A3 │   │A2 A3 │   │A2 A3 │   │A2 A3 │
    └─┬┬─┬┬┘   └─┬┬─┬┬┘   └─┬┬─┬┬┘   └─┬┬─┬┬┘
      ││ ││       ││ ││       ││ ││       ││ ││
      ↓↓ ↓↓       ↓↓ ↓↓       ↓↓ ↓↓       ↓↓ ↓↓
    TEC1 TEC2   TEC3 TEC4   TEC5 TEC6   TEC7 TEC8
    P  N P  N   P  N P  N   P  N P  N   P  N P  N
```

## 四、I2C地址分配表

| ADS1115编号 | ADDR引脚连接 | I2C地址 | 连接的TEC芯片 |
|-----------|------------|--------|-------------|
| #1 | GND | 0x48 | TEC1, TEC2 |
| #2 | VDD | 0x49 | TEC3, TEC4 |
| #3 | SDA | 0x4A | TEC5, TEC6 |
| #4 | SCL | 0x4B | TEC7, TEC8 |

## 五、注意事项

1. **电源负载**：4个ADS1115同时工作，总电流约为4mA × 4 = 16mA，Raspberry Pi 5的3.3V引脚可以提供足够电流（最大50mA）
2. **I2C总线**：所有ADS1115共享同一对SDA/SCL线，通过不同的I2C地址区分
3. **线路长度**：I2C总线对线路长度敏感，建议每根线不超过1米
4. **接线顺序**：建议按照以下顺序连接：
   - 第一步：连接所有ADS1115的VDD和GND（建议使用面包板分配电源）
   - 第二步：连接所有ADS1115的SDA和SCL
   - 第三步：根据地址设置连接各个ADDR引脚
   - 第四步：连接所有TEC芯片到对应的ADS1115
5. **标签标识**：建议在每个ADS1115和TEC芯片上贴标签，标明编号，避免混淆
6. **面包板使用**（推荐）：
   - 使用面包板可以方便地分配3.3V和GND到多个ADS1115
   - 减少杂乱的飞线，提高系统稳定性

## 六、测试验证

连线完成后，使用以下命令检测所有I2C设备：

```bash
sudo i2cdetect -y 1
```

应该能看到4个地址都有响应：
```
     0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f
00:          -- -- -- -- -- -- -- -- -- -- -- -- -- 
10: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
40: -- -- -- -- -- -- -- -- 48 49 4a 4b -- -- -- -- 
50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 
70: -- -- -- -- -- -- -- --
```

如果只显示部分地址，请检查对应ADS1115的连线。
